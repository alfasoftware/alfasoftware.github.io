# Packed String Visualiser


## Overview

A simple single-page application for parsing a given fixed width packed String into a visual representation, using a given parsing format.

This can then be shared as a link, with the input and parsing format encoded in the URL.

Or alternatively copied into a tabular representation in a piped format. E.g.

```
|||Example Required Segment Field||Position||Value||
|Example Field|1 - 1|A|
||Example Optional Segment 1 Field||Position||Value||
|Segment Identifier|2 - 4|EO1|
||Example Optional Segment 2 Field||Position||Value||
|Segment Identifier|5 - 7|EO2|

```
There are additional options to obscure fields marked as sensitive/private, and to surround all values with single quotes to  highlight blank spaces.

## Requirements

For full functionality Chrome 42+, Firefox 41+, IE 9+, Opera 29+ is required.

Note: Internet Explorer may have issues with the length of the URLs generated by the 'Copy link to clipboard' functionality. There is no practical solution to this.

## Usage

The 'hosted' version can be found [here](https://github.com/alfasoftware/alfasoftware.github.io/packed_string_viewer). Alternatively the page can be downloaded and run locally.

Then paste the input to be parsed into the 'Input' text area, and the parsing format into the 'Parsing Format' textarea, the visual representation of the parsed String will then be displayed in a 'Breakdown' section.

If the 'Breakdown' section does not appear, check the logs for errors.

## Parsing format

The parsing format should be provided as a valid JSON string.

An example of the parsing format is shown below:

```json
{
	"r": {
		"t": "Example Required Segment",
		"l": 1,
		"f": [{
			"s": 1,
			"e": 1,
			"l": "Example Field",
			"p": true
		}]
	},
	"o": [{
		"i": "EO1",
		"t": "Example Optional Segment 1",
		"l": 3,
		"f": [{
			"s": 1,
			"e": 3,
			"l": "Segment Identifier",
			"p": false
		}]
	}, {
		"i": "EO2",
		"t": "Example Optional Segment 2",
		"l": 3,
		"f": [{
			"s": 1,
			"e": 3,
			"l": "Segment Identifier",
			"p": true
		}]
	}]
}
```

Where:

### "r" = Required Segment

A single required segment which we expect to be in the given input. This will be matched before any Optional segments are considered and should come first.

key | meaning
--- | ---
t|segment title
l|segment length
f|array of segment fields

With each f (field) made up of

key | meaning
--- | ---
s|start character index
e|end character index
l|field label
p|sensitive/private field - will be obscured if the checkbox is checked

### "o" = Optional Segments

One or more optional segments to try and match against the given input.

key | meaning
--- | ---
i|identifying prefix - the prefix the next part of the data must start with to be considered of this segment type
t|segment title
l|segment length
f|array of segment fields

With each f (field) made up of

key | meaning
--- | ---
s|start character index
e|end character index
l|field label
p|sensitive/private field - will be obscured if the checkbox is checked

## Development

Please feel free to raise feature requests, suggest improvements, report bugs and send pull requests.